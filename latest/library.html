<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Library · Katana</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Katana</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><span class="toctext">Manual</span></li><li class="current"><a class="toctext" href="library.html">Library</a><ul class="internal"></ul></li><li><span class="toctext">Developer</span></li></ul></nav><article id="docs"><header><nav><ul><li><a href="library.html">Library</a></li></ul><a class="edit-page" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/docs/src/library.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Library</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Katana.jl-Library-1" href="#Katana.jl-Library-1">Katana.jl Library</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.KatanaFirstOrderSeparator" href="#Katana.KatanaFirstOrderSeparator"><code>Katana.KatanaFirstOrderSeparator</code></a> — <span class="docstring-category">Type</span>.</div><div><p>An implementation of <code>AbstractKatanaSeparator</code> for any first-order cutting algorithm.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/separators.jl#L52-L54">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.KatanaSolver" href="#Katana.KatanaSolver"><code>Katana.KatanaSolver</code></a> — <span class="docstring-category">Type</span>.</div><div><p>A solver for convex NLPs that uses cutting-planes to approximate a convex feasible set.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/solver.jl#L3-L5">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.KatanaSolver-Tuple{MathProgBase.SolverInterface.AbstractMathProgSolver}" href="#Katana.KatanaSolver-Tuple{MathProgBase.SolverInterface.AbstractMathProgSolver}"><code>Katana.KatanaSolver</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">KatanaSolver(lp_solver :: MathProgBase.AbstractMathProgSolver;
             separator = KatanaFirstOrderSeparator(),
             features = Vector{Symbol}(),
             f_tol :: Float64 = 1e-6,
             cut_coef_rng :: Float64 = 1e9,
             log_level :: Int = 10,
             iter_cap :: Int = 10000,
             obj_eps :: Float64 = -1.0)</code></pre><p>Construct a <code>KatanaSolver</code> with feasibility tolerance <code>f_tol</code>, a maximum coefficient range per cut <code>cut_coef_rng</code> and an iteration cap specifying the maximum number of rounds of LP solves + cut generation in <code>iter_cap</code>. Print out solver progress every <code>log_level</code> number of iterations, or suppress output with <code>log_level=0</code>. Use <code>obj_eps</code> as a stopping criterion: when the objective function evaluated by the LP has changed by less than <code>obj_eps</code> relative to the previous iteration.</p><p><code>cut_coef_rng</code> is used to round-off close-to-zero coefficients in generated cuts.</p><p>The <code>separator</code> is any implementing subtype of <code>AbstractKatanaSeparator</code>. It serves as the separation oracle used by the solver. The default is a first order separator that generates a single Newton cut per constraint.</p><p>The <code>features</code> vector is a list of optional features to enable in the solver. Currently supported are</p><ul><li><p><code>:VisData</code> <span>$-$</span> Internal model logs actions to be exported and visualised</p></li></ul></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/solver.jl#L12-L33">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.getKatanaCuts-Tuple{Katana.KatanaNonlinearModel}" href="#Katana.getKatanaCuts-Tuple{Katana.KatanaNonlinearModel}"><code>Katana.getKatanaCuts</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">getKatanaCuts(m :: KatanaNonlinearModel)</code></pre><p>Returns a table of all linear cutting planes generated by Katana&#39;s separation oracle. If the model contains <code>N</code> variables (including an auxiliary variable) and <code>m</code> cutting planes were generated, the table will have size <code>m x (N+2)</code>.</p><p>For every row: the first <code>N</code> columns represent the coefficients of model variables, the <code>N+1</code>th column a constant term, and the <code>N+2</code>th column an inequality direction (<code>-1</code> for <span>$\leq$</span> and <code>1</code> for <span>$\geq$</span>). Thus, for coefficients <span>$a_1,\ldots,a_N$</span>, constant <span>$c$</span> and direction <span>$-1$</span>, re-construct the cutting plane as <span>$a_{1}x_{1} + \ldots + a_{N}x_{N} \leq c$</span>.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/util.jl#L7-L15">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.initialize!-Tuple{Katana.AbstractKatanaSeparator,Any,Any,Any,MathProgBase.SolverInterface.AbstractNLPEvaluator}" href="#Katana.initialize!-Tuple{Katana.AbstractKatanaSeparator,Any,Any,Any,MathProgBase.SolverInterface.AbstractNLPEvaluator}"><code>Katana.initialize!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">initialize!(sep::AbstractKatanaSeparator, linear_model, num_var, num_constr, oracle::MathProgBase.AbstractNLPEvaluator)</code></pre><p>Initialise an instance of a subtype of <code>AbstractKatanaSeparator</code> with information about the KatanaNonlinearModel. This method is called by <code>loadproblem!</code> and MUST be overridden.</p><p><code>linear_model</code> is the internal linear model of the <code>KatanaNonlinearModel</code>.</p><p><code>num_var</code> is the number of solution variables, as passed by Katana. <code>num_constr</code> is the number of constraints in the problem, as passed by Katana. See solver implementation for details.</p><p><code>oracle</code> can be queried for first- and second- derivative information and must be initialised in this method (see MathProgBase documentation on nonlinear models).</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/separators.jl#L7-L19">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.precompute!-Tuple{Katana.AbstractKatanaSeparator,Any}" href="#Katana.precompute!-Tuple{Katana.AbstractKatanaSeparator,Any}"><code>Katana.precompute!</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">precompute!(sep::AbstractKatanaSeparator, xstar)</code></pre><p>Implement this method for a subtype of AbstractKatanaSeparator if your separator might only need to evaluate certain information once for all constraints using a solution from the internal LP model.</p><p><code>xstar</code> is the solution vector from the <code>KatanaNonlinearModel</code>&#39;s LP model</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/separators.jl#L42-L49">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.EpigraphNLPEvaluator" href="#Katana.EpigraphNLPEvaluator"><code>Katana.EpigraphNLPEvaluator</code></a> — <span class="docstring-category">Type</span>.</div><div><p>Wrapper for any <code>MathProgBase.AbstractNLPEvaluator</code> instance. Acts as an NLP evaluator for an NLP that has been transformed into epigraph form by treating the NL objective as if it were a constraint.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/nlpeval.jl#L2-L5">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.KatanaNonlinearModel" href="#Katana.KatanaNonlinearModel"><code>Katana.KatanaNonlinearModel</code></a> — <span class="docstring-category">Type</span>.</div><div><p>The MathProgBase non-linear model for Katana.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/model.jl#L6-L8">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.gencut-Tuple{Katana.AbstractKatanaSeparator,Any,Any,Any}" href="#Katana.gencut-Tuple{Katana.AbstractKatanaSeparator,Any,Any,Any}"><code>Katana.gencut</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">gencut!(sep::AbstractKatanaSeparator, xstar, i)</code></pre><p>Generate a cut given an LP solution <code>xstar</code> for constraint <code>i</code>. <code>bounds</code> is a 2-tuple of <code>(lb,ub)</code>. Since constraints are convex, one of the tuple bounds will be finite, and defines the level set of the constraint function. This method MUST be overridden for a subtype of <code>AbstractKatanaSeparator</code>. It is called by Katana as part of the solve routine.</p><p>Return a JuMP.AffExpr object.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/separators.jl#L22-L30">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.isconstrsat-Tuple{Katana.AbstractKatanaSeparator,Any,Any,Any,Any}" href="#Katana.isconstrsat-Tuple{Katana.AbstractKatanaSeparator,Any,Any,Any,Any}"><code>Katana.isconstrsat</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">isconstrsat(sep::AbstractKatanaSeparator, i, lb, ub, f_tol)</code></pre><p>Returns true if the <span>$i$</span>th constraint is satisfied for the given bounds and tolerance. This method MUST be overriden for a subtype of <code>AbstractKatanaSeparator</code> as querying evaluated constraints is implementation-dependent.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/separators.jl#L33-L39">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.numcuts-Tuple{Katana.KatanaNonlinearModel}" href="#Katana.numcuts-Tuple{Katana.KatanaNonlinearModel}"><code>Katana.numcuts</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">numcuts(m::KatanaNonlinearModel)</code></pre><p>Returns the number of linear cuts added to the model. Includes linear constraints initially present.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/model.jl#L327-L331">source</a><br/></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Katana.numiters-Tuple{Katana.KatanaNonlinearModel}" href="#Katana.numiters-Tuple{Katana.KatanaNonlinearModel}"><code>Katana.numiters</code></a> — <span class="docstring-category">Method</span>.</div><div><pre><code class="language-none">numiters(m::KatanaNonlinearModel)</code></pre><p>Returns the number of iterations taken by the model.</p></div><a class="source-link" target="_blank" href="https://github.com/lanl-ansi/Katana.jl/tree/32d4ead673253d5ac2edc40327490513ddfef318/src/model.jl#L320-L324">source</a><br/></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Home</span></a></footer></article></body></html>
